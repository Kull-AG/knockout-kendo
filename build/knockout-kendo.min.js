/*
 * knockout-kendo 0.10.0
 * Copyright Â© 2017 Ryan Niemeyer & Telerik
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at

 * http://www.apache.org/licenses/LICENSE-2.0

 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */


!function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(require("knockout"),require("jquery"),require("@progress/kendo-ui/js/kendo.core")):"function"==typeof define&&define.amd?define(["knockout","jquery","@progress/kendo-ui/js/kendo.core"],e):e(window.ko,window.jQuery,window.kendo)}(function(d,u,i,p){i=i||window.kendo,d.kendo=d.kendo||{};var t,h=d.utils.unwrapObservable;d.kendo.BindingFactory=function(){var c=this;this.createBinding=function(l){var s={init:function(e,n,t,a,o){var i=c.buildOptions(l,n);if(!0!==i.async&&(!0!==l.async||!1===i.async))return s.setup(e,i,o),i&&i.useKOTemplates?{controlsDescendantBindings:!0}:void 0;setTimeout(function(){s.setup(e,i,o)},0)},setup:function(e,n,t){var a,o=u(e);c.setupTemplates(l.templates,n,e,t),a=c.getWidget(l,n,o),c.handleEvents(n,l,e,a,t),c.watchValues(a,n,l,e),a.destroy&&d.utils.domNodeDisposal.addDisposeCallback(e,function(){a.element&&("function"==typeof i.destroy?i.destroy(a.element):a.destroy())})},options:{}};s.widgetConfig=l,d.bindingHandlers[l.bindingName||l.name]=s},this.buildOptions=function(e,n){var t=e.defaultOption,a=d.utils.extend({},d.bindingHandlers[e.name].options),o=h(n());return o instanceof i.data.DataSource||"object"!=typeof o||null===o||t&&!(t in o)?a[t]=n():d.utils.extend(a,o),a};function r(n,t){return function(e){return d.renderTemplate(n,t.createChildContext(e._raw&&e._raw()||e))}}this.setupTemplates=function(e,n,t,a){var o,i,l,s;if(e&&n&&n.useKOTemplates){for(o=0,i=e.length;o<i;o++)n[l=e[o]]&&(n[l]=r(n[l],a));s=n.dataBound,n.dataBound=function(){d.memoization.unmemoizeDomNodeAndDescendants(t),s&&s.apply(this,arguments)}}},this.unwrapOneLevel=function(e){var n,t={};if(e)if(e instanceof i.data.DataSource)t=e;else if("object"==typeof e)for(n in e)t[n]=h(e[n]);return t},this.getWidget=function(e,n,t){var a;if(e.parent){var o=t.closest("[data-bind*='"+e.parent+":']");a=o.length?o.data(e.parent):null}else a=t[e.name](this.unwrapOneLevel(n)).data(e.name);return d.isObservable(n.widget)&&n.widget(a),a},this.watchValues=function(e,n,t,a){var o,i=t.watch;if(i)for(o in i)i.hasOwnProperty(o)&&c.watchOneValue(o,e,n,t,a)},this.watchOneValue=function(i,l,s,c,r){var e=d.computed({read:function(){var e,n,t=c.watch[i],a=h(s[i]),o=c.parent?[r]:[];u.isArray(t)?t=l[a?t[0]:t[1]]:"string"==typeof t?t=l[t]:n=!0,t&&s[i]!==p&&(n?o.push(a,s):(e=t.apply(l,o),o.push(a)),!n&&e===a||t.apply(l,o))},disposeWhenNodeIsRemoved:r}).extend({throttle:s.throttle||0===s.throttle?s.throttle:1});d.isObservable(s[i])||e.dispose()},this.handleEvents=function(e,n,t,a,o){var i,l,s=n.events;if(s)for(i in s)s.hasOwnProperty(i)&&("string"==typeof(l=s[i])&&(l={value:l,writeTo:l}),c.handleOneEvent(i,l,e,t,a,n.childProp,o))},this.handleOneEvent=function(e,a,o,i,n,l,t){var s="function"==typeof a?a:o[a.call];"function"==typeof a?s=s.bind(t.$data,o):a.call&&"function"==typeof o[a.call]?s=o[a.call].bind(t.$data,t.$data):a.writeTo&&d.isWriteableObservable(o[a.writeTo])&&(s=function(e){var n,t;l&&e[l]&&e[l]!==i||(t="string"==typeof(n=a.value)&&this[n]?this[n](l&&i):n,o[a.writeTo](t))}),s&&n.bind(e,s)}},d.kendo.bindingFactory=new d.kendo.BindingFactory,d.kendo.setDataSource=function(e,n,t){var a,o;n instanceof i.data.DataSource?e.setDataSource(n):(t&&t.useKOTemplates||(a=d.mapping&&n&&n.__ko_mapping__,o=n&&a?d.mapping.toJS(n):d.toJS(n)),e.dataSource.data(o||n))},t=i.data.ObservableArray.fn.wrap,i.data.ObservableArray.fn.wrap=function(e){if(null!==e){var n=t.apply(this,arguments);return n._raw=function(){return e},n}};function e(n){return function(e){e&&(d.utils.extend(this.options[n],e),this.redraw(),this.value(.001+this.value()))}}function n(e,n){e?this.open("string"==typeof n.target?u(h(n.target)):n.target):this.element.parent().is(":visible")&&this.close()}var a=d.kendo.bindingFactory.createBinding.bind(d.kendo.bindingFactory),o="clicked",l="close",s="collapse",c="data",r="enable",v="expand",f="expanded",m="isOpen",w="max",k="min",b="open",g="search",O="select",T="selected",y="size",S="title",x="value",D="values";a({name:"kendoAutoComplete",events:{change:x,open:{writeTo:m,value:!0},close:{writeTo:m,value:!1}},watch:{enabled:r,search:[g,l],data:function(e){d.kendo.setDataSource(this,e)},value:x}}),a({name:"kendoButton",defaultOption:o,events:{click:{call:o}},watch:{enabled:r}}),a({name:"kendoCalendar",defaultOption:x,events:{change:x},watch:{max:w,min:k,value:x}}),a({name:"kendoColorPicker",events:{change:x,open:{writeTo:m,value:!0},close:{writeTo:m,value:!1}},watch:{enabled:r,value:x,color:x,palette:"palette"}}),a({name:"kendoComboBox",events:{change:x,open:{writeTo:m,value:!0},close:{writeTo:m,value:!1}},watch:{enabled:r,isOpen:[b,l],data:function(e){d.kendo.setDataSource(this,e)},value:x}}),a({name:"kendoDatePicker",defaultOption:x,events:{change:x,open:{writeTo:m,value:!0},close:{writeTo:m,value:!1}},watch:{enabled:r,max:w,min:k,value:x,isOpen:[b,l]}}),a({name:"kendoDateTimePicker",defaultOption:x,events:{change:x,open:{writeTo:m,value:!0},close:{writeTo:m,value:!1}},watch:{enabled:r,max:w,min:k,value:x,isOpen:[b,l]}}),a({name:"kendoDropDownList",events:{change:x,open:{writeTo:m,value:!0},close:{writeTo:m,value:!1}},watch:{enabled:r,isOpen:[b,l],data:function(e){d.kendo.setDataSource(this,e),e.length&&this.options.optionLabel&&this.select()<0&&this.select(0)},value:x}}),a({name:"kendoEditor",defaultOption:x,events:{change:x},watch:{enabled:r,value:x}}),a({name:"kendoGantt",defaultOption:c,watch:{data:function(e){d.kendo.setDataSource(this,e)}}}),a({name:"kendoGrid",defaultOption:c,watch:{data:function(e,n){d.kendo.setDataSource(this,e,n)}},templates:["rowTemplate","altRowTemplate"]}),a({name:"kendoListView",defaultOption:c,watch:{data:function(e,n){d.kendo.setDataSource(this,e,n)}},templates:["template"]}),a({name:"kendoPager",defaultOption:c,watch:{data:function(e,n){d.kendo.setDataSource(this,e,n)},page:"page"},templates:["selectTemplate","linkTemplate"]}),a({name:"kendoMaskedTextBox",defaultOption:x,events:{change:x},watch:{enabled:r,isReadOnly:"readonly",value:x}}),a({name:"kendoMap",events:{zoomEnd:function(e,n){d.isWriteableObservable(e.zoom)&&e.zoom(n.sender.zoom())},panEnd:function(e,n){var t;d.isWriteableObservable(e.center)&&(t=n.sender.center(),e.center([t.lat,t.lng]))}},watch:{center:"center",zoom:"zoom"}}),a({name:"kendoMenu",async:!0}),a({name:"kendoMenuItem",parent:"kendoMenu",watch:{enabled:r,isOpen:[b,l]},async:!0}),a({name:"kendoMobileActionSheet",events:{open:{writeTo:m,value:!0},close:{writeTo:m,value:!1}},watch:{isOpen:n},async:!0}),a({name:"kendoMobileButton",defaultOption:o,events:{click:{call:o}},watch:{enabled:r}}),a({name:"kendoMobileButtonGroup",events:{select:function(e,n){d.isWriteableObservable(e.selectedIndex)&&e.selectedIndex(n.sender.current().index())}},watch:{enabled:r,selectedIndex:O}}),a({name:"kendoMobileDrawer",events:{show:{writeTo:m,value:!0},hide:{writeTo:m,value:!1}},watch:{isOpen:function(e){this[e?"show":"hide"]()}},async:!0}),a({name:"kendoMobileListView",defaultOption:c,events:{click:{call:o}},watch:{data:function(e,n){d.kendo.setDataSource(this,e,n)}},templates:["template"]}),a({name:"kendoMobileModalView",events:{open:{writeTo:m,value:!0},close:{writeTo:m,value:!1}},watch:{isOpen:n},async:!0}),a({name:"kendoMobileNavBar",watch:{title:S}}),a({name:"kendoMobilePopOver",events:{open:{writeTo:m,value:!0},close:{writeTo:m,value:!1}},watch:{isOpen:n},async:!0}),a({name:"kendoMobileScroller",events:{pull:function(e,n){var t=n.sender.pullHandled.bind(n.sender);"function"==typeof e.pulled&&e.pulled.call(this,this,n,t)}},watch:{enabled:[r,"disable"]}}),a({name:"kendoMobileScrollView",events:{change:function(e,n){(n.page||0===n.page)&&d.isWriteableObservable(e.currentIndex)&&e.currentIndex(n.page)}},watch:{currentIndex:"scrollTo",data:function(e){d.kendo.setDataSource(this,e)}}}),a({name:"kendoMobileSwitch",events:{change:function(e,n){d.isWriteableObservable(e.checked)&&e.checked(n.checked)}},watch:{enabled:r,checked:"check"}}),a({name:"kendoMobileTabStrip",events:{select:function(e,n){d.isWriteableObservable(e.selectedIndex)&&e.selectedIndex(n.item.index())}},watch:{selectedIndex:function(e){!e&&0!==e||this.switchTo(e)}}}),a({name:"kendoMultiSelect",events:{change:x,open:{writeTo:m,value:!0},close:{writeTo:m,value:!1}},watch:{enabled:r,search:[g,l],data:function(e){d.kendo.setDataSource(this,e)},value:function(e){this.dataSource.filter({}),this.value(e)}}});function M(e,n){n||0===n?this.show(n,e):this.hide()}a({name:"kendoNotification",watch:{error:function(e){M.call(this,"error",e)},info:function(e){M.call(this,"info",e)},success:function(e){M.call(this,"success",e)},warning:function(e){M.call(this,"warning",e)}}}),a({name:"kendoNumericTextBox",defaultOption:x,events:{change:x,spin:x},watch:{enabled:r,value:x,max:function(e){this.options.max=e;var n=this.value();(n||0===n)&&e<n&&this.value(e)},min:function(e){this.options.min=e;var n=this.value();(n||0===n)&&n<e&&this.value(e)}}}),a({name:"kendoPanelBar",async:!0}),a({name:"kendoPanelItem",parent:"kendoPanelBar",watch:{enabled:r,expanded:[v,s],selected:[O]},childProp:"item",events:{expand:{writeTo:f,value:!0},collapse:{writeTo:f,value:!1},select:{writeTo:T,value:x}},async:!0}),a({name:"kendoPivotGrid",watch:{data:function(e){d.kendo.setDataSource(this,e)}}}),a({name:"kendoProgressBar",defaultOption:x,events:{change:x},watch:{enabled:r,value:x}}),a({name:"kendoRangeSlider",defaultOption:D,events:{change:D},watch:{values:D,enabled:r}});function P(i){return function(e,n){var t=h(e.data||e.dataSource),a=h(e.idField)||"id",o=d.utils.arrayFirst(t,function(e){return h(e[a])===n.event[a]});o&&i(e,n,o,function(e){for(var n in o)if(e.hasOwnProperty(n)&&o.hasOwnProperty(n)){var t=e[n],a=o[n];d.isWriteableObservable(a)&&a(t)}})}}a({name:"kendoScheduler",events:{moveEnd:P(function(e,n,t,a){a(n),a(n.resources)}),save:P(function(e,n,t,a){a(n.event)}),remove:function(e,n){var t,a=e.data||e.dataSource,o=d.unwrap(a);o&&o.length&&(t=d.utils.arrayFirst(d.unwrap(a),function(e){return e.uuid===n.event.uuid}))&&(d.utils.arrayRemoveItem(o,t),d.isWriteableObservable(a)&&a.valueHasMutated())}},watch:{data:function(e,n){d.kendo.setDataSource(this,e,n)},date:"date"},async:!0}),a({name:"kendoSlider",defaultOption:x,events:{change:x},watch:{value:x,enabled:r,min:k,max:w}}),a({name:"kendoSortable",defaultOption:c,events:{end:function(e,n){var t="__ko_kendo_sortable_data__",a="receive"!==n.action?d.dataFor(n.item[0]):n.draggableEvent[t],o=e.data,i=e.data;"sort"!==n.action&&"remove"!==n.action||(i.splice(n.oldIndex,1),"remove"===n.action&&(n.draggableEvent[t]=a)),"sort"!==n.action&&"receive"!==n.action||(i.splice(n.newIndex,0,a),delete n.draggableEvent[t],n.sender.placeholder.remove()),o.valueHasMutated()}}}),a({name:"kendoSplitter",async:!0}),a({name:"kendoSplitterPane",parent:"kendoSplitter",watch:{max:w,min:k,size:y,expanded:[v,s]},childProp:"pane",events:{collapse:{writeTo:f,value:!1},expand:{writeTo:f,value:!0},resize:y},async:!0}),a({name:"kendoTabStrip",async:!0}),a({name:"kendoTab",parent:"kendoTabStrip",watch:{enabled:r},childProp:"item",async:!0}),a({name:"kendoToolBar"}),a({name:"kendoTooltip",events:{},watch:{content:function(e){this.options.content=e,this.refresh()},filter:"filter"}}),a({name:"kendoTimePicker",defaultOption:x,events:{change:x},watch:{max:w,min:k,value:x,enabled:r,isOpen:[b,l]}}),a({name:"kendoTreeMap",watch:{data:function(e){d.kendo.setDataSource(this,e)}}}),a({name:"kendoTreeView",watch:{data:function(e,n){d.kendo.setDataSource(this,e,n)}},events:{change:function(e,n){if(d.isWriteableObservable(e.value)){var t=n.sender;e.value(t.dataItem(t.select()))}}},async:!0}),a({name:"kendoTreeItem",parent:"kendoTreeView",watch:{enabled:r,expanded:[v,s],selected:function(e,n){n?this.select(e):this.select()[0]==e&&this.select(null)}},childProp:"node",events:{collapse:{writeTo:f,value:!1},expand:{writeTo:f,value:!0},select:{writeTo:T,value:!0}},async:!0}),a({name:"kendoUpload",watch:{enabled:r}}),a({name:"kendoWindow",events:{open:{writeTo:m,value:!0},close:{writeTo:m,value:!1}},watch:{content:"content",title:S,isOpen:[b,l]},async:!0}),a({name:"kendoBarcode",watch:{value:x}}),a({name:"kendoChart",watch:{data:function(e){d.kendo.setDataSource(this,e)}}}),a({name:"kendoLinearGauge",defaultOption:x,watch:{value:x,gaugeArea:e("gaugeArea"),pointer:e("pointer"),scale:e("scale")}}),a({name:"kendoQRCode",watch:{value:x}}),a({name:"kendoRadialGauge",defaultOption:x,watch:{value:x,gaugeArea:e("gaugeArea"),pointer:e("pointer"),scale:e("scale")}}),a({name:"kendoSparkline",watch:{data:function(e){d.kendo.setDataSource(this,e)}}}),a({name:"kendoStockChart",watch:{data:function(e){d.kendo.setDataSource(this,e)}}})});