/*
 * knockout-kendo 0.10.1
 * Copyright Â© 2017 Ryan Niemeyer & Telerik
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at

 * http://www.apache.org/licenses/LICENSE-2.0

 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(require("knockout"),require("jquery"),require("@progress/kendo-ui/js/kendo.core")):"function"==typeof define&&define.amd?define(["knockout","jquery","@progress/kendo-ui/js/kendo.core"],e):e(window.ko,window.jQuery,window.kendo)}(function(d,u,i,p){i=i||window.kendo,u=i.jQuery||u,d.kendo=d.kendo||{};function e(n){return function(e){e&&(d.utils.extend(this.options[n],e),this.redraw(),this.value(.001+this.value()))}}function n(e,n){e?this.open("string"==typeof n.target?u(h(n.target)):n.target):this.element.parent().is(":visible")&&this.close()}function t(e,n){n||0===n?this.show(n,e):this.hide()}function a(i){return function(e,n){var t=h(e.data||e.dataSource),a=h(e.idField)||"id",o=d.utils.arrayFirst(t,function(e){return h(e[a])===n.event[a]});o&&i(e,n,o,function(e){for(var n in o){var t;e.hasOwnProperty(n)&&o.hasOwnProperty(n)&&(t=e[n],n=o[n],d.isWriteableObservable(n)&&n(t))}})}}var o,h=d.utils.unwrapObservable,l=(d.kendo.BindingFactory=function(){var s=this;this.createBinding=function(l){var c={init:function(e,n,t,a,o){var i=s.buildOptions(l,n);if(!0!==i.async&&(!0!==l.async||!1===i.async))return c.setup(e,i,o),i&&i.useKOTemplates?{controlsDescendantBindings:!0}:void 0;setTimeout(function(){c.setup(e,i,o)},0)},setup:function(e,n,t){var a,o=u(e);s.setupTemplates(l.templates,n,e,t),a=s.getWidget(l,n,o),s.handleEvents(n,l,e,a,t),s.watchValues(a,n,l,e),a.destroy&&d.utils.domNodeDisposal.addDisposeCallback(e,function(){if(a.element)try{"function"==typeof i.destroy?i.destroy(a.element):a.destroy()}catch(e){console.error(e)}})},options:{}};d.bindingHandlers[(c.widgetConfig=l).bindingName||l.name]=c},this.buildOptions=function(e,n){var t=e.defaultOption,e=d.utils.extend({},d.bindingHandlers[e.name].options),a=h(n());return a instanceof i.data.DataSource||"object"!=typeof a||null===a||t&&!(t in a)?e[t]=n():d.utils.extend(e,a),e};this.setupTemplates=function(e,n,t,a){var o,i,l,c;if(e&&n&&n.useKOTemplates){for(o=0,i=e.length;o<i;o++)n[l=e[o]]&&(n[l]=function(n,t){return function(e){return d.renderTemplate(n,t.createChildContext(e._raw&&e._raw()||e))}}(n[l],a));c=n.dataBound,n.dataBound=function(){d.memoization.unmemoizeDomNodeAndDescendants(t),c&&c.apply(this,arguments)}}},this.unwrapOneLevel=function(e){var n,t={};if(e)if(e instanceof i.data.DataSource)t=e;else if("object"==typeof e)for(n in e)t[n]=h(e[n]);return t},this.getWidget=function(e,n,t){var a;return a=e.parent?(a=t.closest("[data-bind*='"+e.parent+":']")).length?a.data(e.parent):null:t[e.name](this.unwrapOneLevel(n)).data(e.name),d.isObservable(n.widget)&&n.widget(a),a},this.watchValues=function(e,n,t,a){var o,i=t.watch;if(i)for(o in i)i.hasOwnProperty(o)&&s.watchOneValue(o,e,n,t,a)},this.watchOneValue=function(i,l,c,s,r){var e=d.computed({read:function(){var e,n,t=s.watch[i],a=h(c[i]),o=s.parent?[r]:[];u.isArray(t)?t=l[a?t[0]:t[1]]:"string"==typeof t?t=l[t]:n=!0,t&&c[i]!==p&&(n?o.push(a,c):(e=t.apply(l,o),o.push(a)),!n&&e===a||t.apply(l,o))},disposeWhenNodeIsRemoved:r}).extend({throttle:c.throttle||0===c.throttle?c.throttle:1});d.isObservable(c[i])||e.dispose()},this.handleEvents=function(e,n,t,a,o){var i,l,c=n.events;if(c)for(i in c)c.hasOwnProperty(i)&&("string"==typeof(l=c[i])&&(l={value:l,writeTo:l}),s.handleOneEvent(i,l,e,t,a,n.childProp,o))},this.handleOneEvent=function(e,n,t,a,o,i,l){var c="function"==typeof n?n:t[n.call];"function"==typeof n?c=c.bind(l.$data,t):n.call&&"function"==typeof t[n.call]?c=t[n.call].bind(l.$data,l.$data):n.writeTo&&d.isWriteableObservable(t[n.writeTo])&&(c=function(e){i&&e[i]&&e[i]!==a||(e="string"==typeof(e=n.value)&&this[e]?this[e](i&&a):e,t[n.writeTo](e))}),c&&o.bind(e,c)}},d.kendo.bindingFactory=new d.kendo.BindingFactory,d.kendo.setDataSource=function(e,n,t){var a;n instanceof i.data.DataSource?e.setDataSource(n):(t&&t.useKOTemplates||(t=d.mapping&&n&&n.__ko_mapping__,a=(n&&t?d.mapping:d).toJS(n)),e.dataSource.data(a||n))},o=i.data.ObservableArray.fn.wrap,i.data.ObservableArray.fn.wrap=function(e){var n;if(null!==e)return(n=o.apply(this,arguments))._raw=function(){return e},n},d.kendo.bindingFactory.createBinding.bind(d.kendo.bindingFactory)),c="clicked",s="close",r="collapse",v="data",f="enable",m="expand",w="expanded",k="isOpen",b="max",g="min",O="open",y="search",T="select",S="selected",x="size",D="title",M="value",P="values";l({name:"kendoAutoComplete",events:{change:M,open:{writeTo:k,value:!0},close:{writeTo:k,value:!1}},watch:{enabled:f,search:[y,s],data:function(e){d.kendo.setDataSource(this,e)},value:M}}),l({name:"kendoButton",defaultOption:c,events:{click:{call:c}},watch:{enabled:f}}),l({name:"kendoCalendar",defaultOption:M,events:{change:M},watch:{max:b,min:g,value:M}}),l({name:"kendoColorPicker",events:{change:M,open:{writeTo:k,value:!0},close:{writeTo:k,value:!1}},watch:{enabled:f,value:M,color:M,palette:"palette"}}),l({name:"kendoComboBox",events:{change:M,open:{writeTo:k,value:!0},close:{writeTo:k,value:!1}},watch:{enabled:f,isOpen:[O,s],data:function(e){d.kendo.setDataSource(this,e)},value:M}}),l({name:"kendoDatePicker",defaultOption:M,events:{change:M,open:{writeTo:k,value:!0},close:{writeTo:k,value:!1}},watch:{enabled:f,max:b,min:g,value:M,isOpen:[O,s]}}),l({name:"kendoDateTimePicker",defaultOption:M,events:{change:M,open:{writeTo:k,value:!0},close:{writeTo:k,value:!1}},watch:{enabled:f,max:b,min:g,value:M,isOpen:[O,s]}}),l({name:"kendoDropDownList",events:{change:M,open:{writeTo:k,value:!0},close:{writeTo:k,value:!1}},watch:{enabled:f,isOpen:[O,s],data:function(e){d.kendo.setDataSource(this,e),e.length&&this.options.optionLabel&&this.select()<0&&this.select(0)},value:M}}),l({name:"kendoEditor",defaultOption:M,events:{change:M},watch:{enabled:f,value:M}}),l({name:"kendoGantt",defaultOption:v,watch:{data:function(e){d.kendo.setDataSource(this,e)}}}),l({name:"kendoGrid",defaultOption:v,watch:{data:function(e,n){d.kendo.setDataSource(this,e,n)}},templates:["rowTemplate","altRowTemplate"]}),l({name:"kendoListView",defaultOption:v,watch:{data:function(e,n){d.kendo.setDataSource(this,e,n)}},templates:["template"]}),l({name:"kendoPager",defaultOption:v,watch:{data:function(e,n){d.kendo.setDataSource(this,e,n)},page:"page"},templates:["selectTemplate","linkTemplate"]}),l({name:"kendoMaskedTextBox",defaultOption:M,events:{change:M},watch:{enabled:f,isReadOnly:"readonly",value:M}}),l({name:"kendoMap",events:{zoomEnd:function(e,n){d.isWriteableObservable(e.zoom)&&e.zoom(n.sender.zoom())},panEnd:function(e,n){d.isWriteableObservable(e.center)&&(n=n.sender.center(),e.center([n.lat,n.lng]))}},watch:{center:"center",zoom:"zoom"}}),l({name:"kendoMenu",async:!0}),l({name:"kendoMenuItem",parent:"kendoMenu",watch:{enabled:f,isOpen:[O,s]},async:!0}),l({name:"kendoMobileActionSheet",events:{open:{writeTo:k,value:!0},close:{writeTo:k,value:!1}},watch:{isOpen:n},async:!0}),l({name:"kendoMobileButton",defaultOption:c,events:{click:{call:c}},watch:{enabled:f}}),l({name:"kendoMobileButtonGroup",events:{select:function(e,n){d.isWriteableObservable(e.selectedIndex)&&e.selectedIndex(n.sender.current().index())}},watch:{enabled:f,selectedIndex:T}}),l({name:"kendoMobileDrawer",events:{show:{writeTo:k,value:!0},hide:{writeTo:k,value:!1}},watch:{isOpen:function(e){this[e?"show":"hide"]()}},async:!0}),l({name:"kendoMobileListView",defaultOption:v,events:{click:{call:c}},watch:{data:function(e,n){d.kendo.setDataSource(this,e,n)}},templates:["template"]}),l({name:"kendoMobileModalView",events:{open:{writeTo:k,value:!0},close:{writeTo:k,value:!1}},watch:{isOpen:n},async:!0}),l({name:"kendoMobileNavBar",watch:{title:D}}),l({name:"kendoMobilePopOver",events:{open:{writeTo:k,value:!0},close:{writeTo:k,value:!1}},watch:{isOpen:n},async:!0}),l({name:"kendoMobileScroller",events:{pull:function(e,n){var t=n.sender.pullHandled.bind(n.sender);"function"==typeof e.pulled&&e.pulled.call(this,this,n,t)}},watch:{enabled:[f,"disable"]}}),l({name:"kendoMobileScrollView",events:{change:function(e,n){(n.page||0===n.page)&&d.isWriteableObservable(e.currentIndex)&&e.currentIndex(n.page)}},watch:{currentIndex:"scrollTo",data:function(e){d.kendo.setDataSource(this,e)}}}),l({name:"kendoMobileSwitch",events:{change:function(e,n){d.isWriteableObservable(e.checked)&&e.checked(n.checked)}},watch:{enabled:f,checked:"check"}}),l({name:"kendoMobileTabStrip",events:{select:function(e,n){d.isWriteableObservable(e.selectedIndex)&&e.selectedIndex(n.item.index())}},watch:{selectedIndex:function(e){!e&&0!==e||this.switchTo(e)}}}),l({name:"kendoMultiSelect",events:{change:M,open:{writeTo:k,value:!0},close:{writeTo:k,value:!1}},watch:{enabled:f,search:[y,s],data:function(e){d.kendo.setDataSource(this,e)},value:function(e){this.dataSource.filter({}),this.value(e)}}}),l({name:"kendoNotification",watch:{error:function(e){t.call(this,"error",e)},info:function(e){t.call(this,"info",e)},success:function(e){t.call(this,"success",e)},warning:function(e){t.call(this,"warning",e)}}}),l({name:"kendoNumericTextBox",defaultOption:M,events:{change:M,spin:M},watch:{enabled:f,value:M,max:function(e){this.options.max=e;var n=this.value();(n||0===n)&&e<n&&this.value(e)},min:function(e){this.options.min=e;var n=this.value();(n||0===n)&&n<e&&this.value(e)}}}),l({name:"kendoPanelBar",async:!0}),l({name:"kendoPanelItem",parent:"kendoPanelBar",watch:{enabled:f,expanded:[m,r],selected:[T]},childProp:"item",events:{expand:{writeTo:w,value:!0},collapse:{writeTo:w,value:!1},select:{writeTo:S,value:M}},async:!0}),l({name:"kendoPivotGrid",watch:{data:function(e){d.kendo.setDataSource(this,e)}}}),l({name:"kendoProgressBar",defaultOption:M,events:{change:M},watch:{enabled:f,value:M}}),l({name:"kendoRangeSlider",defaultOption:P,events:{change:P},watch:{values:P,enabled:f}});l({name:"kendoScheduler",events:{moveEnd:a(function(e,n,t,a){a(n),a(n.resources)}),save:a(function(e,n,t,a){a(n.event)}),remove:function(e,n){var t,e=e.data||e.dataSource,a=d.unwrap(e);a&&a.length&&(t=d.utils.arrayFirst(d.unwrap(e),function(e){return e.uuid===n.event.uuid}))&&(d.utils.arrayRemoveItem(a,t),d.isWriteableObservable(e)&&e.valueHasMutated())}},watch:{data:function(e,n){d.kendo.setDataSource(this,e,n)},date:"date"},async:!0}),l({name:"kendoSlider",defaultOption:M,events:{change:M},watch:{value:M,enabled:f,min:g,max:b}}),l({name:"kendoSortable",defaultOption:v,events:{end:function(e,n){var t="__ko_kendo_sortable_data__",a="receive"!==n.action?d.dataFor(n.item[0]):n.draggableEvent[t],o=e.data,e=e.data;"sort"!==n.action&&"remove"!==n.action||(e.splice(n.oldIndex,1),"remove"===n.action&&(n.draggableEvent[t]=a)),"sort"!==n.action&&"receive"!==n.action||(e.splice(n.newIndex,0,a),delete n.draggableEvent[t],n.sender.placeholder.remove()),o.valueHasMutated()}}}),l({name:"kendoSplitter",async:!0}),l({name:"kendoSplitterPane",parent:"kendoSplitter",watch:{max:b,min:g,size:x,expanded:[m,r]},childProp:"pane",events:{collapse:{writeTo:w,value:!1},expand:{writeTo:w,value:!0},resize:x},async:!0}),l({name:"kendoTabStrip",async:!0}),l({name:"kendoTab",parent:"kendoTabStrip",watch:{enabled:f},childProp:"item",async:!0}),l({name:"kendoToolBar"}),l({name:"kendoTooltip",events:{},watch:{content:function(e){this.options.content=e,this.refresh()},filter:"filter"}}),l({name:"kendoTimePicker",defaultOption:M,events:{change:M},watch:{max:b,min:g,value:M,enabled:f,isOpen:[O,s]}}),l({name:"kendoTreeMap",watch:{data:function(e){d.kendo.setDataSource(this,e)}}}),l({name:"kendoTreeView",watch:{data:function(e,n){d.kendo.setDataSource(this,e,n)}},events:{change:function(e,n){d.isWriteableObservable(e.value)&&(n=n.sender,e.value(n.dataItem(n.select())))}},async:!0}),l({name:"kendoTreeItem",parent:"kendoTreeView",watch:{enabled:f,expanded:[m,r],selected:function(e,n){n?this.select(e):this.select()[0]==e&&this.select(null)}},childProp:"node",events:{collapse:{writeTo:w,value:!1},expand:{writeTo:w,value:!0},select:{writeTo:S,value:!0}},async:!0}),l({name:"kendoUpload",watch:{enabled:f}}),l({name:"kendoWindow",events:{open:{writeTo:k,value:!0},close:{writeTo:k,value:!1}},watch:{content:"content",title:D,isOpen:[O,s]},async:!0}),l({name:"kendoBarcode",watch:{value:M}}),l({name:"kendoChart",watch:{data:function(e){d.kendo.setDataSource(this,e)}}}),l({name:"kendoLinearGauge",defaultOption:M,watch:{value:M,gaugeArea:e("gaugeArea"),pointer:e("pointer"),scale:e("scale")}}),l({name:"kendoQRCode",watch:{value:M}}),l({name:"kendoRadialGauge",defaultOption:M,watch:{value:M,gaugeArea:e("gaugeArea"),pointer:e("pointer"),scale:e("scale")}}),l({name:"kendoSparkline",watch:{data:function(e){d.kendo.setDataSource(this,e)}}}),l({name:"kendoStockChart",watch:{data:function(e){d.kendo.setDataSource(this,e)}}})});